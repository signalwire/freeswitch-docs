
# mod_v8 

 Created by  John Boteler, last modified by  Attila Gulyas on 2019.12.29

## About

See the main [JavaScript](../Client-and-Developer-Interfaces/JavaScript/index.mdx#api) page to learn how to use JavaScript with FreeSWITCH.

From commit b76233266931ca0b53f3bcc589277b972d714216 (January 14'th 2014) in git master, FreeSWITCH has support for the Google [V8](https://code.google.com/p/v8/) JavaScript (ECMAScript) engine. It supports all the standard JavaScript language elements, for example 'for' and 'while' loops, regexps, etc. In addition there are things that are specific to FreeSWITCH which are listed below. You need to have mod\_v8 compiled and installed to take advantage of these functions. Each of those sections are documented below.

#### Build/Install

mod\_v8 is built and installed by default as of revision b76233266931ca0b53f3bcc589277b972d714216.

If for some reason it's not, do the following:

* Uncomment languages/mod\_v8 in modules.conf in your src directory (make it always build and install mod\_v8)
* Run 'make mod\_v8-install' to make and install just the v8 module
* Edit conf/autoload\_configs/modules.conf.xml in your FreeSWITCH™ install directory to load mod\_v8
* In fs\_cli, run "load mod\_v8"

For database support, the system must be configured to use ODBC. If it is, the built-in class for ODBC will automatically be built.

A difference between the old mod\_spidermonkey and mod\_v8 is that the basic extra modules (ODBC, CoreDB, Socket, etc.) are now compiled directly into mod\_v8.

#### Execution of a script

There are two methods for script execution, via an API call _jsrun_ and via an application _javascript_. When you use the API a default [Session](../Client-and-Developer-Interfaces/JavaScript/Session/index.mdx#methods) object is not created, as there is no call to associate it with. By default, scripts will be loaded from the {FS\_ROOT}/scripts directory, you may override this by placing a / as the first character in Unix-like systems or a x:\\ in Windows systems as the script name.

##### Application

From the [Dialplan](../Dialplan/XML-Dialplan/index.mdx#about), you simply call it as an application similar to:

&lt;action application="javascript" data="/path/to/some/script.js"/>

If you need to pass arguments into to the javascript application, they can be passed in as a single string to the variable "argv" by doing the following:

&lt;action application="javascript" data="/path/to/some/script.js $1"/>

##### API

At the FreeSWITCH™ console, or some other application/interface execute the jsrun call with the script name as its argument.

jsrun /path/to/some/script.js

  
####  Examples 

* [Javascript clam](../Client-and-Developer-Interfaces/JavaScript/Javascript-Examples/JavaScript-Example---cnam_7144664.mdx#about)
* Other Javascript Examples exist (search confluence) and include database connectivity and grabbing external content via [CURL](http://en.wikipedia.org/wiki/CURL).

####  Function Reference 

####  Other Points Of Interest 

* [Run](../Client-and-Developer-Interfaces/JavaScript/JavaScript-API-Reference/Run_13173558.mdx#--) \- Use CURL from within your JavaScript
* [Javascript\_Event](../Client-and-Developer-Interfaces/JavaScript/JavaScript-Event/JavaScript-Event-Handler_7144102.mdx#about)
* [Javascript\_XML](../Client-and-Developer-Interfaces/JavaScript/Javascript-Examples/JavaScript-example---XML_7144136.mdx#about)

## Logging

Logs a message to the console logger.

### Synopsis

console_log(message)
console_log(level, message)

* You most likely want to add a \\n to the end of your message, other than that its just a text string.
* In the single-argument form, the level defaults to "debug"
* Levels: "DEBUG", "INFO", "NOTICE", "WARNING", "ERR", "CRIT", "ALERT".

### Example

console_log("Hello there\n");
console_log("WARNING", "Ho!\n");

#### FAQ

* [Javascript FAQ](../Client-and-Developer-Interfaces/JavaScript/index.mdx#-freeswitch--javascript-)

###  See Also 

* [Mozilla JavaScript reference](http://developer.mozilla.org/en/docs/JavaScript)
* [Misc FreeSWITCH Javascript functions](../Client-and-Developer-Interfaces/JavaScript/Javascript-Miscellaneous_16352162.mdx#-freeswitch--javascript-miscellaneous-)
* [Script Language Choice](../Client-and-Developer-Interfaces/Script-Language-Choice_1048942.mdx#about)


