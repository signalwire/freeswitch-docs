
# Bounty 

 Created by  Belaid Areski, last modified by  Alex Sibyakin on 2018.07.18

## About

This is the list of the available bounties

Click here to expand ToC

* [Bounties paid](#bounties-paid)
* [Improving doc on bitpacking / G726-XX codecs](#improving-doc-on-bitpacking--g726-xx-codecs)
* [Integration of Windows speech API for Server 2008 R2](#integration-of-windows-speech-api-for-server-2008-r2)
* [Record Sound Prompts In Other Languages](#record-sound-prompts-in-other-languages)
* [Alternative behavior when using P-Asserted-Identity and Privacy headers](#alternative-behavior-when-using-p-asserted-identity-and-privacy-headers)
* [Active Directory Domain Support](#active-directory-domain-support)
* [H.323 Support](#h323-support)
* [Call Timers](#call-timers)
* [Continuation of a call in No-Media Mode after Successful Bridge](#continuation-of-a-call-in-no-media-mode-after-successful-bridge)
* [SS7 support](#ss7-support)
* [FreeSWITCH Internals](#freeswitch-internals)
* [Integrate SS7 into FreeSWITCH UPDATED](#integrate-ss7-into-freeswitch-updated)
* [SIGHUP support in Windows - CDR/LOG Rotation](#sighup-support-in-windows---cdrlog-rotation)
* [CDR\_CSV Auto Rotation](#cdr_csv-auto-rotation)
* [mod\_php updated to work with current FreeSWITCH](#mod_php-updated-to-work-with-current-freeswitch)
* [RFC 3611 - RTP Control Protocol Extended Reports (RTCP XR) support](#rfc-3611httpstoolsietforghtmlrfc3611---rtp-control-protocol-extended-reports-rtcp-xr-support)
* [Voicemail announcements only](#voicemail-announcements-only)
* [MGCP Support](#mgcp-support)
* [IMAP integration of voicemail](#imap-integration-of-voicemail)
* [Multiplexing RTP feature](#multiplexing-rtp-feature)
* [Enforce codec selection by sample rate and ptime](#enforce-codec-selection-by-sample-rate-and-ptime)
* [Route Header Availability](#route-header-availability)
* [High Availability M+S Cluster Directly in FreeSWITCH](#high-availability-ms-cluster-directly-in-freeswitch)
* [Internal Database Modularization Support](#internal-database-modularization-support)
* [Changes to sip MESSAGE treatment, with events](#changes-to-sip-message-treatment-with-events)
* [Expand mod\_distributor functionality to have more allocation strategies](#expand-mod_distributor-functionality-to-have-more-allocation-strategies)
* [Fix JIRA FS-6008 (both stable and master branches)](#fix-jira-fs-6008-both-stable-and-master-branches)

[Authenticate](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266) to see issue details 

The Jira server didn't understand your search query. If you entered JQL, please ensure that it's correctly formed. If you entered an issue key, ensure that it exists and you have permission to view it.
  
  
| Key                                                                                                                                                                                   | Summary | T | Created | Updated | Reporter | P | Status |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | - | ------- | ------- | -------- | - | ------ |
| [Authenticate](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266) to retrieve your issues |         |   |         |         |          |   |        |

[ No issues found ](https://freeswitch.org/jira/secure/IssueNavigator.jspa?reset=true&jqlQuery=%28summary+%7E+%22BOUNTY%3A%22+OR+description+%7E+%22BOUNTY%3A%22%29+AND+status+%21%3D+%22closed%22+++&src=confmacro) 

## Bounties paid

It's just as important to know who has a history of paying and who has a history of completing tasks, so the [Bounties Completed](./Bounties-Completed_3965109.mdx#about) page lists those.

## Improving doc on bitpacking / G726-XX codecs

100 USD - Ivan (ivan.mitev@gmail.com) - IMO the documentation on bitpacking is too scarce ; I'm not knowlegeable enough to update the wiki with some of my findings, so I'd prefer that someone who really knows that stuff improves it. For instance:

* there's the bitpacking param in sofia, but no details about what are the available parameters except aal2 (that's the only one since there's only a comparison to "aal2" in the source code). Then, when bitpacking is set to AAL2, how does one deal with a heterogeneous set of endpoints, some using standard bitpacking, and others using AAL2 without saying (eg. linphone, linksys) ?
* there are specific AAL2-G726-XX codecs; they're the same as G726-32 when bitpacking=aal2 in Sofia, right ?
* any pointer on playing recorded G726-XX calls (with record\_session) on linux ? With or without AAL2 ? VLC/mplayer won't work (or maybe because of a lack of proper command lines options). I've also found <http://www.ps-auxw.de/g72x++.tar.bz2> but that would only produce noise (and there are options for different bitpacking methods, while rfc3551 says it must use packing).

Optionally we could write down a list of endpoints known to use AAL2 bitpacking while advertising "standard" G726-XX

## Integration of Windows speech API for Server 2008 R2

Looking for this ASAP. Will pay whatever it takes to get done. Prompt payment. Contact [lee@actionsolutions.net](mailto:lee@actionsolutions.net)

## Record Sound Prompts In Other Languages

Looking for others to put up some money. William Dale has pledged at least $250 to getting the Spanish prompts recorded. Please contact Michael (msc@[freeswitch.org](http://freeswitch.org)) if you would like to pledge for this cause. We estimate roughly $1200 is needed to do a full set of prompts for a single language.

## Alternative behavior when using P-Asserted-Identity and Privacy headers

$300 - Oyatel AS (eaf@[oyatel.no](http://oyatel.no)) It's currently not possible to read the values of P-Asserted-Identity and Privacy headers on the A-leg of a call. This might be information that is handy on routing calls when using FreeSWITCH in an SBC context. Also FreeSWITCH alters the Caller-Username and Caller-Caller-ID-Number based on the content of the P-Asserted-Identity.

**Current behavior:**

INVITE FROM ASTERISK to FS:  
From: "+4711111111" &lt;sip:+4711111111@[xxx.yyyyyyy.no](http://xxx.yyyyyyy.no)\>;tag=as24269fa6  
Contact: &lt;sip:+4711111111@1.2.3.4>  
Remote-Party-ID: "+4711111111" &lt;sip:+4711111111@[xxx.yyyyyyy.no](http://xxx.yyyyyyy.no)\>;privacy=off;screen=yes  
P-Asserted-Identity: &lt;sip:+4712121212@[xyz.no](http://xyz.no)\>  
Privacy: none

  
This information is gathered at FS with the Info app.  
Caller-Username: \[+4712121212\] ;---- FS changes this field based on content in P-Asserted-Identity  
Caller-Caller-ID-Name: \[+4711111111\]  
Caller-Caller-ID-Number: \[+4712121212\] ;---- FS changes this field based on content in P-Asserted-Identity  
variable\_sip\_from\_user: \[+4711111111\]  
variable\_sip\_from\_uri: \[+4711111111@[xxx.yyyyyyy.no](http://xxx.yyyyyyy.no)\]  
variable\_sip\_contact\_user: \[+4711111111\]  
variable\_sip\_contact\_uri: \[+4711111111@1.2.3.4\]

Then FreeSWITCH removes P-Asserted-Identity header.

  
**We would like an alternate behavior:**  
Maybe by setting something on a sip- profile to change from default behavior?  
Alter\_default\_p\_asserted\_behavior=true

True: P-Asserted-Identity can be read from the channel variables, and is possible to export to leg-b. Caller-Username and Caller-Caller-ID-Number are not changed.

False: Like current behavior

False is default setting.

Jira ticket <http://jira.freeswitch.org/browse/MODENDP-146> might contain some relevant info.

## Active Directory Domain Support

$200.00 - Jimmy A. (techiegz@gmail.com) A good way to accomplish this is to ensure FreeSWITCH user and group directory services inter-operates well with Likewise Open components within Linux and Unix distributions. This is because Likewise Open (which provides Active Directory authentication, management, etc for Linux and Unix systems on Windows enterprise networks) is starting to ship with Linux and Unix distributions according to Linux Magazine; <http://www.linux-mag.com/id/5620> . Ubuntu and Red Hat are the first couple of distributions to go this enterprise-ready route followed by Novell, IBM, etc. FreeSWITCH should not be left out.

## H.323 Support

Especially H.264 (a portion of the MPEG-4 standard, referenced as MPEG-4 part 10), uses less than half the bandwidth of any other video codec. It is also specially developed for IP networks.

## Call Timers

**NOTE: This is completed, awaiting payment of bounty**

Create a parameter to BRIDGE application which will disconnect a call after X amount of time

* $100 - Wavelength Communications, Inc - 703-459-7429 -- Contact: Daniel Corbe &lt;dcorbe@gmail.com>
* $150 EXTRA (total of $250) Ability to play announcements to the caller (callee must not hear) to warn of impending disconnect
* Must drop callee side, not caller side so that continue\_on\_fail type scenarios continue to process
* $100 - Nikolay Kolev - me \*at\* nikolay \*dot\* com

## Continuation of a call in No-Media Mode after Successful Bridge

**NOTE: This is completed, awaiting payment of bounty**

* $200 - Wavelength Communications, Inc - 703-459-7429 -- Contact: Daniel Corbe &lt;dcorbe@[gmail.com](http://gmail.com)\>
* A call goes into the "HIBERNATE" state if you have no-media mode enabled. This prevents the call from

matching multiple condition blocks in an extension if the outgoing call leg was BYEd (meaning a successful bridge occurred).

For example, the following Dialplan works with no-media mode disabled. With no-media mode enabled, the 2nd &lt;condition> block is never executed.

&lt;context name="default">
        &lt;extension name="globals" continue="true">
                &lt;condition>
                        &lt;action application="set" data="continue_on_fail=true"/>
                &lt;/condition>
        &lt;/extension>
        &lt;extension name="ld_service" continue=true>
                &lt;condition field="destination_number" expression="^1(.+)$">
                        &lt;action application="set" data="no_media=true"/>
                        &lt;action application="set" data="hangup_after_bridge=false"/>
                        &lt;action application="bridge" data="sofia/local_profile/1231@127.0.0.1:5061" />
                &lt;/condition>
                &lt;condition field="destination_number" expression="^1(.+)$">
                        &lt;action application="set" data="no_media=true"/>
                        &lt;action application="set" data="hangup_after_bridge=true"/>
                        &lt;action application="bridge" data="sofia/local_profile/1456@127.0.0.1:5061" />
                        &lt;action application="bridge" data="sofia/local_profile/1$1@127.0.0.1:5061" />
                &lt;/condition>
        &lt;/extension>
&lt;/context>

## SS7 support

* $1000 contact me 516-356-1080

## FreeSWITCH Internals

* $100 if someone can throw together a guide documenting some FreeSWITCH internals so I can begin contributing to the project more meaningfully 516-356-1080
* Can you give an example of the internals that need documenting? There is this page: [Developer Documentation](../../../Client-and-Developer-Interfaces/Developer-Documentation_13173044.mdx#resources)

## Integrate SS7 into FreeSWITCH UPDATED

* My previous bounty was for $1,000.00 and a requirement to include OpenSS7\. I got no response to speak of, so here's another attempt. I am raising the stakes to $5,000.00, perhaps more, and taking out the OpenSS7 requirement. Contact me, Ahmed at \[anaji@[openskiesnet.com](http://openskiesnet.com)&lt;mailto:anaji@openskiesnet.com>\] anyone if you are interested and capable of making this fly.
* Another $5,000.00 - $10,000.00 for supporting applications to make FreeSWITCH into a _boxed_ product.

## SIGHUP support in Windows - CDR/LOG Rotation

Provide command line ability to send event (SIGHUP). (fsctl sighup)

Action should:

* Not drop any calls/state
* Rotate Master.csv file
* Rotate logfiles

Fee to be paid: $75.00 Contact: Shawn -> [shawnl@waterwheelnets.com](mailto:shawnl@waterwheelnets.com)

## CDR_CSV Auto Rotation

**Note:** this is done, waiting for payment.

Ability to AUTO-ROTATE CDR MASTER.CSV every "x" seconds/minutes whatever

* Add new conf parameter which will allow for an automatic rotation of the Master.csv every set period of time.

Fee to be paid: $75.00 Contact: Shawn -> [shawnl@waterwheelnets.com](mailto:shawnl@waterwheelnets.com)

Note: I don't see the point of this. It's totally unnecessary as you can do this with logrotate easily.

## mod_php updated to work with current FreeSWITCH

Any idea what sort of bounty would be required to make this happen? (and if there are other supporters of it) I am migrating a number of Asterisk systems which use PHP-based AGIs that will need to be re-developed for freeswitch and mod\_php would be the easiest way of doing this.

Technophreak: Will contribute 250$ if this can be kept up-to-date.

## [RFC 3611](https://tools.ietf.org/html/rfc3611) \- RTP Control Protocol Extended Reports (RTCP XR) support

The goal would be to measure/collect voice quality details and report them during the live call (e.g. update channel variables which could be read through event\_socket, XML-RPC, etc.) and report at the end of the call (event\_socket message or/and CDR data). It has to work on win32 and Linux for sure.

* $500 Netsip Pty Ltd, Contact [jay@netsip.com.au](mailto:jay@netsip.com.au)
* $1000 Contact [nelsjustin@me.com](mailto:nelsjustin@me.com)
* $500 Contact [grabes@gmail.com](mailto:grabes@gmail.com)
* more fund wanted

More info on JIRA: [BOUNTY-4](http://jira.freeswitch.org/browse/BOUNTY-4)

## Voicemail announcements only

Sometimes it is useful to only play an announcement when voicemail is enabled. Therefore there should be a another voicemenu item to enable/disable recording

E.g.

* "Press X to enable recording"
* "Press X again to only play announcement"

So the user can manage it's settings on his own. An XML parameter should also be available in the directory settings to switch recording on/off

Posted: December 4th, 2009

Bounty: $100

Bounty valid until: December 31th, 2009

Extra $150 to enable Cepstral TTS to speak a defined TTS message. This should

* be switchable on/off by a voicemenu item
* be switchable on/off by an XML parameter in the directory settings

The spoken text and speaker should also be managable in the directory settings

Respond to Peter Steinbach (p dot steinbach at telefaks dot de)

## MGCP Support

(was [BOUNTY-10 MGCP Support](http://jira.freeswitch.org/browse/BOUNTY-10))

We're offering a $500 (maybe more) bounty for MGCP support in FreeSWITCH. It would need to be compatible with Adtran TA600 series IADs as we have a bunch of those.

## IMAP integration of voicemail

(was [BOUNTY-5 $500: Looking for IMAP integration of voicemail](http://jira.freeswitch.org/browse/BOUNTY-5))

* ability to receive messages through a regular imap client and manipulate them as standard IMAP messages
* User should never have to interact with the voice/phone based voicemail storage, but should still be able to and have any changes through the voice/phone based interface be reflected in IMAP as well

Three solutions:

| Solution                                         | Where is the data    | MWI                             | Storage shared with regular mails | Implementation proposition                                                    | Other limitations          |
| ------------------------------------------------ | -------------------- | ------------------------------- | --------------------------------- | ----------------------------------------------------------------------------- | -------------------------- |
| FreeSWITCH as IMAP server                        | SQLite/ODBC          | yes                             | no                                | perl's [Net::IMAP::Server](http://search.cpan.org/perldoc?Net::IMAP::Server). |                            |
| use IMAP storage instead of SQLite/ODBC          | On the IMAP server   | need to patch the _mail server_ | yes                               | implement an IMAP _storage module_ in FreeSWITCH                              |                            |
| use local Maildir storage instead of SQLite/ODBC | in the Maildir files | need notify hook                | yes                               | implement _storage modules_ in FreeSWITCH                                     | won't fit on large systems |

NB:

* _storages modules_ doesn't exists yet, so API should be written first.
* _mail server_ is one of Cyrus-IMAPD, Dovecot, ...

## Multiplexing RTP feature

Requesting a quotation to implement a new feature for RTP multiplexing between FreeSWITCH boxes to reduce bandwidth usage, similar in a way to IAX2 trunking. There is a nice article on this here: <ftp://ftp.inria.fr/INRIA/publication/publi-pdf/RR/RR-4929.pdf> There also needs to be a way to make sure packet size does not go larger than MTU of 1500\. contact support att hellohowzit dott com

## Enforce codec selection by sample rate and ptime

FreeSWITCH currently doesn't support enforcing codec selection by sample rate and ptime. If I define "SILK" as a codec preference any supported sample rate or ptime is acceptable. However, if I define "SILK@8000h" I only want SILK@8000h. Not SILK@12000h, not SILK@16000h or SILK@24000h.

Likewise if I define "SILK@12000h,SILK@8000h" as my outbound codec string I would like those sample rates offered in that order.

Tony says it's possible but it just not supported right now. I want to change that with this bounty! Of course this should apply to all codecs that offer different sample rates and ptimes (so pretty much all of them).

<http://jira.freeswitch.org/browse/BOUNTY-21> contact: Kristian Kielhofner

## Route Header Availability

I would like the Route: header on an incoming INVITE to be instantiated as a channel variable.

I would also like to be able to set it to an arbitrary value on outbound (bridged/originated) calls via a variable like sip\_h\_Route='arbitrary data.' I am aware of fs\_path however it doesn't allow one to set extended attributes such as lr; maddr=XXX on that URI, and it doesn't seem to work with bridged calls. This is essentially a message to tell the next switch what to do with the call (required in this instance by a MetaSwitch).

Essentially I'd like it to work exactly as the Diversion header currently works - it shows up as a channel variable (sip\_h\_Diversion) and it can be set for outbound calls.

<http://jira.freeswitch.org/browse/FS-2974> contact: Nicholas Lemberger // Lakefield Communications

## High Availability M+S Cluster Directly in FreeSWITCH

Multi-master, multi-slave cluster with interface, IP address, and firewall rule management built directly into FreeSWITCH (no need for Pacemaker + Corosync).

This is already being worked on. See mod\_ha\_cluster. Pledge bounties here to speed development.

## Internal Database Modularization Support

Support for building database modules which can be loaded into FreeSWITCH so that direct connectivity to various database systems can be performed without the need for the ODBC abstraction layer. This will also allow connection pooling and redundant server configuration. The first two modules to be written will be for PostgreSQL and MySQL, in that order. This is already being worked on. Pledge bounties here to speed development.

## Changes to sip MESSAGE treatment, with events

Also logged here <http://jira.freeswitch.org/browse/FS-3408> Posted July 9th, 2011.

Bounty: $600\. Contact david.varnes at gmail dot com. Only proviso is I need to know by July 20th \_if\_ this is likely to be done by the FS developers, otherwise some client developers will probably have a crack at it.

Context: the treatment of SIP MESSAGE (rfc 3428) by Sofia, and the events available to FS ESL subscribers. This bounty request is only concerned for sip MESSAGEs in the so called 'pager mode', ie not occurring inside a session.

Objective: to be able to use ESL to write a MESSAGE store and forward application that can handle the use case where a MESSAGE recipient is either not currently registered, or cannot currently receive the message.

This bounty is a request for three specific changes, obviously open to design correction or suggestion from the core team, since they surely know much more about this subject matter.

1\. Sofia to send an event on the receipt of a MESSAGE. This event to be available to ESL event listeners, and include all the content of the incoming MESSAGE.

2\. A configuration option to prevent sofia from routing incoming sip MESSAGE itself. Probably an option in sofia.conf.xml.

3\. Sofia to send an event on the successful transmission of a MESSAGE, ie the receipt of the 200 message in response to the sent MESSAGE. This event to be available to ESL event listeners, and include the headers of the 200 message.

An assumption here is that a sip MESSAGE sent via the chat api would result (if successfully delivered) in an ESL event described in #3 above.

## Expand mod_distributor functionality to have more allocation strategies

1) Hunt - Linear order from top to bottom   
2) RoundRobin - Current behavior of mod\_distributor   
3) LeastBusy - Select the session agent with least number of active sessions 

## Fix JIRA FS-6008 (both stable and master branches)

Value: 200$

[FS-6008](https://freeswitch.org/jira/browse/FS-6008?src=confmacro)  \-[Authenticate](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266) to see issue details 

When a call is bridged to the lcr endpoint, fail\_on\_single\_reject is ignored. Dialplan example:

&lt;action application="set" data="fail\_on\_single\_reject=INCOMPATIBLE\_DESTINATION"/>  
&lt;action application="bridge" data="lcr/test\_profile/2411765512"/>

Expected behavior: call hits INCOMPATIBLE\_DESTINATION and instantly returns the same to A-leg

Actual behavior: Call hits INCOMPATIBLE\_DESTINATION and fails-over to the next LCR route

Here is an example of LCR routes involved:

| Digit Match | Carrier | Rate | Codec | CID Regexp | Limit | Dialstring |
| 241 | 488_REJECTION | 0.00001 | | | ld_carriers 488_REJECTION -1 | [lcr_carrier=488_REJECTION,lcr_rate=0.00001]error/INCOMPATIBLE_DESTINATION |

| 241 | CARRIER\_1 | 0.40240 |  |  | ld\_carriers CARRIER\_1 -1 | \[lcr\_carrier=CARRIER\_1,lcr\_rate=0.40240\]sofia/gateway/CARRIER\_1\_GW\_1/+2411765512 |
| --- | ---------- | ------- |  |  | -------------------------- | ---------------------------------------------------------------------------------------- |


